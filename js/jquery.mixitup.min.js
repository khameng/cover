!function(t){function e(e,a,r,s,n){function o(){h.unbind(),a&&i(a,r,s,n),n.startOrder=[],n.newOrder=[],n.origSort=[],n.checkSort=[],p.removeStyle(n.prefix+"filter, filter, "+n.prefix+"transform, transform, opacity, display").css(n.clean).removeAttr("data-checksum"),window.atob||p.css({display:"none",opacity:"0"}),h.removeStyle(n.prefix+"transition, transition, "+n.prefix+"perspective, perspective, "+n.prefix+"perspective-origin, perspective-origin, "+(n.resizeContainer?"height":"")),"list"==n.layoutMode?(u.css({display:n.targetDisplayList,opacity:"1"}),n.origDisplay=n.targetDisplayList):(u.css({display:n.targetDisplayGrid,opacity:"1"}),n.origDisplay=n.targetDisplayGrid),n.origLayout=n.layoutMode,setTimeout(function(){if(p.removeStyle(n.prefix+"transition, transition"),n.mixing=!1,"function"==typeof n.onMixEnd){var t=n.onMixEnd.call(this,n);n=t?t:n}})}if(clearInterval(n.failsafe),n.mixing=!0,"function"==typeof n.onMixStart){var l=n.onMixStart.call(this,n);n=l?l:n}for(var c=n.transitionSpeed,l=0;2>l;l++){var f=0==l?f=n.prefix:"";n.transition[f+"transition"]="all "+c+"ms linear",n.transition[f+"transform"]=f+"translate3d(0,0,0)",n.perspective[f+"perspective"]=n.perspectiveDistance+"px",n.perspective[f+"perspective-origin"]=n.perspectiveOrigin}var d=n.targetSelector,p=s.find(d);p.each(function(){this.data={}});var h=p.parent();h.css(n.perspective),n.easingFallback="ease-in-out","smooth"==n.easing&&(n.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"),"snap"==n.easing&&(n.easing="cubic-bezier(0.77, 0, 0.175, 1)"),"windback"==n.easing&&(n.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",n.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"),"windup"==n.easing&&(n.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",n.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)"),l="list"==n.layoutMode&&null!=n.listEffects?n.listEffects:n.effects,Array.prototype.indexOf&&(n.fade=-1<l.indexOf("fade")?"0":"",n.scale=-1<l.indexOf("scale")?"scale(.01)":"",n.rotateZ=-1<l.indexOf("rotateZ")?"rotate(180deg)":"",n.rotateY=-1<l.indexOf("rotateY")?"rotateY(90deg)":"",n.rotateX=-1<l.indexOf("rotateX")?"rotateX(90deg)":"",n.blur=-1<l.indexOf("blur")?"blur(8px)":"",n.grayscale=-1<l.indexOf("grayscale")?"grayscale(100%)":""),e=e.replace(/\s|\//g,".");var u=t(),g=t();if("or"==n.filterLogic){var y=e.split(".");1==n.multiFilter&&""==y[0]&&y.shift(),1>y.length?g=g.add(s.find(d+":visible")):p.each(function(){for(var e=0,i=t(this),a=0;a<y.length;a++)i.hasClass(y[a])&&(u=u.add(i),e++);0==e&&(g=g.add(i))})}else u=u.add(h.find(d+"."+e)),g=g.add(h.find(d+":not(."+e+"):visible"));e=u.length;var v=t(),m=t(),x=t();if(g.each(function(){var e=t(this);"none"!=e.css("display")&&(v=v.add(e),x=x.add(e))}),u.filter(":visible").length==e&&!v.length&&!a){if(n.origLayout==n.layoutMode)return o(),!1;if(1==u.length)return"list"==n.layoutMode?(s.addClass(n.listClass),s.removeClass(n.gridClass),x.css("display",n.targetDisplayList)):(s.addClass(n.gridClass),s.removeClass(n.listClass),x.css("display",n.targetDisplayGrid)),o(),!1}if(n.origHeight=h.height(),u.length){if(s.removeClass(n.failClass),u.each(function(){var e=t(this);"none"==e.css("display")?m=m.add(e):x=x.add(e)}),n.origLayout!=n.layoutMode&&0==n.animateGridList)return"list"==n.layoutMode?(s.addClass(n.listClass),s.removeClass(n.gridClass),x.css("display",n.targetDisplayList)):(s.addClass(n.gridClass),s.removeClass(n.listClass),x.css("display",n.targetDisplayGrid)),o(),!1;if(!window.atob)return o(),!1;if(p.css(n.clean),x.each(function(){this.data.origPos=t(this).offset()}),"list"==n.layoutMode?(s.addClass(n.listClass),s.removeClass(n.gridClass),m.css("display",n.targetDisplayList)):(s.addClass(n.gridClass),s.removeClass(n.listClass),m.css("display",n.targetDisplayGrid)),m.each(function(){this.data.showInterPos=t(this).offset()}),v.each(function(){this.data.hideInterPos=t(this).offset()}),x.each(function(){this.data.preInterPos=t(this).offset()}),"list"==n.layoutMode?x.css("display",n.targetDisplayList):x.css("display",n.targetDisplayGrid),a&&i(a,r,s,n),a&&n.origSort.compare(n.checkSort))return o(),!1;for(v.hide(),m.each(function(){this.data.finalPos=t(this).offset()}),x.each(function(){this.data.finalPrePos=t(this).offset()}),n.newHeight=h.height(),a&&i("reset",null,s,n),m.hide(),x.css("display",n.origDisplay),"block"==n.origDisplay?(s.addClass(n.listClass),m.css("display",n.targetDisplayList)):(s.removeClass(n.listClass),m.css("display",n.targetDisplayGrid)),n.resizeContainer&&h.css("height",n.origHeight+"px"),e={},l=0;2>l;l++)f=0==l?f=n.prefix:"",e[f+"transform"]=n.scale+" "+n.rotateX+" "+n.rotateY+" "+n.rotateZ,e[f+"filter"]=n.blur+" "+n.grayscale;m.css(e),x.each(function(){var e=this.data,i=t(this);i.hasClass("mix_tohide")?(e.preTX=e.origPos.left-e.hideInterPos.left,e.preTY=e.origPos.top-e.hideInterPos.top):(e.preTX=e.origPos.left-e.preInterPos.left,e.preTY=e.origPos.top-e.preInterPos.top);for(var a={},r=0;2>r;r++){var s=0==r?s=n.prefix:"";a[s+"transform"]="translate("+e.preTX+"px,"+e.preTY+"px)"}i.css(a)}),"list"==n.layoutMode?(s.addClass(n.listClass),s.removeClass(n.gridClass)):(s.addClass(n.gridClass),s.removeClass(n.listClass)),setTimeout(function(){if(n.resizeContainer){for(var e={},i=0;2>i;i++){var a=0==i?a=n.prefix:"";e[a+"transition"]="all "+c+"ms ease-in-out",e.height=n.newHeight+"px"}h.css(e)}for(v.css("opacity",n.fade),m.css("opacity",1),m.each(function(){var e=this.data;e.tX=e.finalPos.left-e.showInterPos.left,e.tY=e.finalPos.top-e.showInterPos.top;for(var i={},a=0;2>a;a++){var r=0==a?r=n.prefix:"";i[r+"transition-property"]=r+"transform, "+r+"filter, opacity",i[r+"transition-timing-function"]=n.easing+", linear, linear",i[r+"transition-duration"]=c+"ms",i[r+"transition-delay"]="0",i[r+"transform"]="translate("+e.tX+"px,"+e.tY+"px)",i[r+"filter"]="none"}t(this).css("-webkit-transition","all "+c+"ms "+n.easingFallback).css(i)}),x.each(function(){var e=this.data;e.tX=0!=e.finalPrePos.left?e.finalPrePos.left-e.preInterPos.left:0,e.tY=0!=e.finalPrePos.left?e.finalPrePos.top-e.preInterPos.top:0;for(var i={},a=0;2>a;a++){var r=0==a?r=n.prefix:"";i[r+"transition"]="all "+c+"ms "+n.easing,i[r+"transform"]="translate("+e.tX+"px,"+e.tY+"px)"}t(this).css("-webkit-transition","all "+c+"ms "+n.easingFallback).css(i)}),e={},i=0;2>i;i++)a=0==i?a=n.prefix:"",e[a+"transition"]="all "+c+"ms "+n.easing+", "+a+"filter "+c+"ms linear, opacity "+c+"ms linear",e[a+"transform"]=n.scale+" "+n.rotateX+" "+n.rotateY+" "+n.rotateZ,e[a+"filter"]=n.blur+" "+n.grayscale,e.opacity=n.fade;v.css(e),h.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(e){(-1<e.originalEvent.propertyName.indexOf("transform")||-1<e.originalEvent.propertyName.indexOf("opacity"))&&(-1<d.indexOf(".")?t(e.target).hasClass(d.replace(".",""))&&o():t(e.target).is(d)&&o())})},10),n.failsafe=setTimeout(function(){n.mixing&&o()},c+400)}else{if(n.resizeContainer&&h.css("height",n.origHeight+"px"),!window.atob)return o(),!1;v=g,setTimeout(function(){if(h.css(n.perspective),n.resizeContainer){for(var t={},e=0;2>e;e++){var i=0==e?i=n.prefix:"";t[i+"transition"]="height "+c+"ms ease-in-out",t.height=n.minHeight+"px"}h.css(t)}if(p.css(n.transition),g.length){for(t={},e=0;2>e;e++)i=0==e?i=n.prefix:"",t[i+"transform"]=n.scale+" "+n.rotateX+" "+n.rotateY+" "+n.rotateZ,t[i+"filter"]=n.blur+" "+n.grayscale,t.opacity=n.fade;v.css(t),h.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(t){(-1<t.originalEvent.propertyName.indexOf("transform")||-1<t.originalEvent.propertyName.indexOf("opacity"))&&(s.addClass(n.failClass),o())})}else n.mixing=!1},10)}}function i(e,i,a,r){function s(t,i){return 1*t.attr(e).toLowerCase()<1*i.attr(e).toLowerCase()?-1:1*t.attr(e).toLowerCase()>1*i.attr(e).toLowerCase()?1:0}function n(t){"asc"==i?o.prepend(t).prepend(" 	"):o.append(t).append(" 	")}a.find(r.targetSelector).wrapAll('<div class="mix_sorter"/>');var o=a.find(".mix_sorter");if(r.origSort.length||o.find(r.targetSelector+":visible").each(function(){t(this).wrap("<s/>"),r.origSort.push(t(this).parent().html().replace(/\s+/g,"")),t(this).unwrap()}),o.empty(),"reset"==e)t.each(r.startOrder,function(){o.append(this).append(" 	")});else if("default"==e)t.each(r.origOrder,function(){n(this)});else if("random"==e){if(!r.newOrder.length){for(var l=r.startOrder.slice(),c=l.length,f=c;f--;){var d=parseInt(Math.random()*c),p=l[f];l[f]=l[d],l[d]=p}r.newOrder=l}t.each(r.newOrder,function(){o.append(this).append(" 	")})}else"custom"==e?t.each(i,function(){n(this)}):("undefined"==typeof r.origOrder[0].attr(e)&&console.log("No such attribute found. Terminating"),r.newOrder.length||(t.each(r.origOrder,function(){r.newOrder.push(t(this))}),r.newOrder.sort(s)),t.each(r.newOrder,function(){n(this)}));r.checkSort=[],o.find(r.targetSelector+":visible").each(function(e){var i=t(this);0==e&&i.attr("data-checksum","1"),i.wrap("<s/>"),r.checkSort.push(i.parent().html().replace(/\s+/g,"")),i.unwrap()}),a.find(r.targetSelector).unwrap()}var a={init:function(i){return this.each(function(){var a={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};i&&t.extend(a,i),this.config=a,t.support.touch="ontouchend"in document,t.support.touch&&(a.isTouch=!0,a.resetDelay=350),a.container=t(this);var r,s=a.container;t:{r=s[0];for(var n=["Webkit","Moz","O","ms"],o=0;o<n.length;o++)if(n[o]+"Transition"in r.style){r=n[o];break t}r="transition"in r.style?"":!1}for(a.prefix=r,a.prefix=a.prefix?"-"+a.prefix.toLowerCase()+"-":"",s.find(a.targetSelector).each(function(){a.origOrder.push(t(this))}),r=0;2>r;r++)n=0==r?n=a.prefix:"",a.transition[n+"transition"]="all "+a.transitionSpeed+"ms ease-in-out",a.perspective[n+"perspective"]=a.perspectiveDistance+"px",a.perspective[n+"perspective-origin"]=a.perspectiveOrigin;for(r=0;2>r;r++)n=0==r?n=a.prefix:"",a.clean[n+"transition"]="none";"list"==a.layoutMode?(s.addClass(a.listClass),a.origDisplay=a.targetDisplayList):(s.addClass(a.gridClass),a.origDisplay=a.targetDisplayGrid),a.origLayout=a.layoutMode,r=a.showOnLoad.split(" "),t.each(r,function(){t(a.filterSelector+'[data-filter="'+this+'"]').addClass("active")}),s.find(a.targetSelector).addClass("mix_all"),"all"==r[0]&&(r[0]="mix_all",a.showOnLoad="mix_all");var l=t();t.each(r,function(){l=l.add(t("."+this))}),l.each(function(){var e=t(this);"list"==a.layoutMode?e.css("display",a.targetDisplayList):e.css("display",a.targetDisplayGrid),e.css(a.transition)}),setTimeout(function(){a.mixing=!0,l.css("opacity","1"),setTimeout(function(){if(l.removeStyle(a.prefix+"transition, transition").css("list"==a.layoutMode?{display:a.targetDisplayList,opacity:1}:{display:a.targetDisplayGrid,opacity:1}),a.mixing=!1,"function"==typeof a.onMixLoad){var t=a.onMixLoad.call(this,a);a=t?t:a}},a.transitionSpeed)},10),a.filter=a.showOnLoad,t(a.sortSelector).bind(a.buttonEvent,function(){if(!a.mixing){var i=t(this),r=i.attr("data-sort"),n=i.attr("data-order");if(i.hasClass("active")){if("random"!=r)return!1}else t(a.sortSelector).removeClass("active"),i.addClass("active");s.find(a.targetSelector).each(function(){a.startOrder.push(t(this))}),e(a.filter,r,n,s,a)}}),t(a.filterSelector).bind(a.buttonEvent,function(){if(!a.mixing){var i=t(this);if(0==a.multiFilter)t(a.filterSelector).removeClass("active"),i.addClass("active"),a.filter=i.attr("data-filter"),t(a.filterSelector+'[data-filter="'+a.filter+'"]').addClass("active"),"all"==a.filter&&(a.filter="mix_all");else{var r=i.attr("data-filter");"all"==r&&(r="mix_all"),i.hasClass("active")?(i.removeClass("active"),a.filter=a.filter.replace(RegExp("(\\s|^)"+r),"")):(i.addClass("active"),a.filter=a.filter+" "+r)}e(a.filter,null,null,s,a)}})})},toGrid:function(){return this.each(function(){var i=this.config;"grid"!=i.layoutMode&&(i.layoutMode="grid",e(i.filter,null,null,t(this),i))})},toList:function(){return this.each(function(){var i=this.config;"list"!=i.layoutMode&&(i.layoutMode="list",e(i.filter,null,null,t(this),i))})},filter:function(i){return this.each(function(){var a=this.config;t(a.filterSelector).removeClass("active"),t(a.filterSelector+'[data-filter="'+i+'"]').addClass("active"),"all"==i&&(i="mix_all"),a.mixing||(a.filter=i,e(i,null,null,t(this),a))})},sort:function(i){return this.each(function(){var a=this.config;if(t.isArray(i))var r=i[0],s=i[1];else r=i,s="desc";a.mixing||(t(this).find(a.targetSelector).each(function(){a.startOrder.push(t(this))}),e(a.filter,r,s,t(this),a))})}};t.fn.mixitup=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:a.init.apply(this,arguments)},t.fn.removeStyle=function(e){return this.each(function(){var i=t(this);e=e.replace(/\s+/g,"");var a=e.split(",");t.each(a,function(){var t=RegExp(this.toString()+"[^;]+;?","g");i.attr("style",function(e,i){return i?i.replace(t,""):void 0})})})},Array.prototype.compare=function(t){if(this.length!=t.length)return!1;for(var e=0;e<t.length;e++)if(this[e].compare&&!this[e].compare(t[e])||this[e]!==t[e])return!1;return!0}}(jQuery);